{% extends 'base.html' %}

{% block title %}Users{% endblock %}

{% block head %} {% endblock %}

{% block body %}
	<div class="row">
		<div class="col-md-4" style="border-right: 1px solid grey;">		
			{% include 'arduino.html' %}
		</div>
		<div class="col-md-8">
			<div>
				<h3><span class="fas fa-group"></span> Users | 
					<button class="btn btn-success fas fa-plus"></button>
				</h3>
			</div>
			<hr>
			<div>
				<table id="transmitters_table"></table>
			</div>
		</div>
	</div>
{% endblock %}

{% block script %}
	<script type="text/javascript">
		$("#transmitters_table").DataTable({
			"pageLength":10,
			"processing":true,
			"ajax": {
				url:'/users/show',
				dataSrc:''
			},
			"columns":[
				{
					"title": "Id",
					"data": "_id"
				},
				{
					"title": "Name",
					"data": "name"
				},
				{
					"title": "Email",
					"data": "email"
				},
				{
					'title': "Role",
					'data': 'role'
				},
				{
					"title": "Actions",
					"data": "_id",
					"render": function(data) {
						var btn = "<a class='text-primary fas fa-search'></a>  "
						btn += "<a class='text-warning fas fa-recycle'></a>  ";
						btn += "<a class='text-danger fas fa-trash'></a>"
						return btn;
					}
				}
			]
		});
	</script>
{% endblock %}
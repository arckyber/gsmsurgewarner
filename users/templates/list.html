{% extends 'base.html' %}

{% block title %}GSM Surge Warner - Users{% endblock %}

{% block head %}
<style>
    .control-center {
        text-align: center;
    }
    #sectionhead #legends {
        display: inline;
    }
    #legends {
        right: 0;
    }
</style>
<link rel="stylesheet" href="{{ url_for('static', filename='css/buttons.dataTables.min.css') }}">
{% endblock %}

{% block body %}
	<div class="row">
		<div class="col-md-3" style="border-right: 1px solid rgb(209, 206, 206);">		
			{% include 'arduino.html' %}
		</div>
		<div class="col-md-9">
			<div id="sectionhead">
                <span style="font-size: 2rem;" class="fas fa-user"> Users </span>
			</div>
			<hr>
            <div class="container" style="overflow-y: scroll; overflow-x: scroll; height: 500px;">
                <table class="table table-sm table-stripped table-hover" id="users_table">
                    <thead class=""></thead>
                    <tbody>
                        <tr>
                            <td class="align-top"></td>
                        </tr>
                    </tbody>
                </table>
			</div>
		</div>
	</div>
{% endblock %}

{% block script %}
<script type="text/javascript" src="{{ url_for('static', filename='js/datatables.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/dataTables.buttons.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/buttons.flash.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/jszip.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/pdfmake.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/vfs_fonts.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/buttons.html5.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/buttons.print.min.js') }}"></script>
<script language="javascript">
	$(document).ready(function(){		
		$("#users_table").DataTable({
			'pageLength': 5,
            'processing': true,
            'ajax': {
                'url': '/users/show',
                'dataSrc': ''
            },
            'columns': [
				{
					'title': '#',
					'data': 'id'
				},
                {
					'title': 'Name',
					'data': 'name'
				},
                {
					'title': 'Email',
					'data': 'email'
				},
                {
					'title': 'Action',
					'data': 'id',
					'render': function (data) {
						var view = "<button class='btn btn-sm fas fa-recycle text-warning'></button>";
							view += "<button class='btn btn-sm fas fa-trash text-danger'></button>";
						return view;
					}
				},
			]
		})
    })
</script>
{% endblock %}